{"version":3,"sources":["script.js"],"names":["form","document","querySelector","recipeField","msgContainer","recipeContainer","msgHideBtn","addEventListener","e","preventDefault","payload","recipe","value","focus","xhr","XMLHttpRequest","open","setRequestHeader","responseType","onload","readyState","res","response","code","style","display","recipes","results","lastElementChild","removeChild","forEach","cardHtml","image","title","insertAdjacentHTML","console","log","onerror","error","send","JSON","stringify"],"mappings":"AAAA,aAEA,MAAMA,KAAOC,SAASC,cAAc,SAC9BC,YAAcF,SAASC,cAAc,kBACrCE,aAAeH,SAASC,cAAc,6BACtCG,gBAAkBJ,SAASC,cAAc,6BACzCI,WAAaL,SAASC,cAAc,mBAO1CF,KAAKO,iBAAiB,UAAUC,IAG5BA,EAAEC,iBAEF,MAAMC,EAAU,CAAEC,OAASR,YAAYS,OACvCT,YAAYS,MAAQ,GACpBT,YAAYU,QAGZ,MAAMC,EAAM,IAAIC,eAEhBD,EAAIE,KAAK,OAAQ,cACjBF,EAAIG,iBAAiB,eAAgB,oBACrCH,EAAII,aAAe,OAEnBJ,EAAIK,OAAS,KACT,GAAuB,IAAnBL,EAAIM,WAAkB,CACtB,MAAMC,EAAMP,EAAIQ,SAEhB,GAAID,EAAIE,KAiBJnB,aAAaoB,MAAMC,QAAU,YAjBnB,CACV,MAAMC,EAAUL,EAAIM,QAGpB,KAAMtB,gBAAgBuB,kBAAkBvB,gBAAgBwB,YAAYxB,gBAAgBuB,kBAEpFF,EAAQI,SAAQnB,IACZ,MAAMoB,EAAW,yFACLpB,EAAOqB,0HAA0HrB,EAAOsB,wLAIpJ5B,gBAAgB6B,mBAAmB,YAAaH,MAEpDI,QAAQC,IAAIV,SAQhBtB,aAAaoB,MAAMC,QAAU,SAIrCX,EAAIuB,QAAU,KACVF,QAAQG,MAAM,0BAGlBxB,EAAIyB,KAAKC,KAAKC,UAAU/B,OAM5BJ,YAAYC,iBAAiB,SAAS,KAClCH,aAAaoB,MAAMC,QAAU","file":"script.js","sourcesContent":["'use strict'\n\nconst form = document.querySelector('.form');\nconst recipeField = document.querySelector('.recipe__field')\nconst msgContainer = document.querySelector('.response__msg__container');\nconst recipeContainer = document.querySelector('.recipe__cards__container');\nconst msgHideBtn = document.querySelector('.msg__hide__btn');\n\n\n\n\n\n//When form is submitted\nform.addEventListener('submit', e => {\n\n    //preventing default nature of form\n    e.preventDefault();\n\n    const payload = { recipe : recipeField.value };\n    recipeField.value = '';\n    recipeField.focus();\n\n    //making post request for sending recipe name\n    const xhr = new XMLHttpRequest();\n\n    xhr.open('POST', '/getRecipe');\n    xhr.setRequestHeader('content-type', 'application/json');\n    xhr.responseType = 'json';\n\n    xhr.onload = () => {\n        if (xhr.readyState === 4) {\n            const res = xhr.response;\n\n            if(!res.code) {\n                const recipes = res.results;\n\n                //deleting all the previous recipes to add new ones\n                while(recipeContainer.lastElementChild) recipeContainer.removeChild(recipeContainer.lastElementChild);\n\n                recipes.forEach(recipe => {\n                    const cardHtml = `<div class=\"recipe__card\"><div class=\"recipe__header\">\n                    <img src=\"${recipe.image}\" alt=\"Recipe name\" class=\"recipe__image\" loading=\"lazy\"></div><div class=\"recipe__body\"><h4 class=\"recipe__name\">${recipe.title}</h4>\n                    <button class=\"recipe__ingredients__btn btn\">Ingredients</button><div class=\"recipe__ingredients__container\">\n                    </div></div></div>`;\n\n                    recipeContainer.insertAdjacentHTML('beforeend', cardHtml);\n                })\n                console.log(recipes);\n            }\n            else {\n                msgContainer.style.display = 'block';\n            }\n\n        } \n        else {\n            msgContainer.style.display = 'block';\n        }\n    };\n\n    xhr.onerror = () => {\n        console.error('Something is no right');\n    }\n\n    xhr.send(JSON.stringify(payload));\n});\n\n\n\n//Event handler for message hide button\nmsgHideBtn?.addEventListener('click', () => {\n    msgContainer.style.display = 'none';\n})"]}